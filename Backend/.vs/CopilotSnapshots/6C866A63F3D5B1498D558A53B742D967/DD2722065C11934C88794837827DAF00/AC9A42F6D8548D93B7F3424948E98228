using Domain.Entities;
using Domain.Interfaces;
using Infraestructure.Data;
using Microsoft.EntityFrameworkCore;
using System;
using System.Threading.Tasks;

namespace Infraestructure.Repositorios
{
 public class PagoRepositorio : IPagoRepositorio
 {
 private readonly AppDbContext _context;
 public PagoRepositorio(AppDbContext context){ _context = context; }

 public async Task<Pago> RegistrarAsync(Pago pago)
 {
 _context.Pagos.Add(pago);
 await _context.SaveChangesAsync();
 return pago;
 }

 public async Task<Pago?> ObtenerPorPedidoIdAsync(Guid pedidoId)
 => await _context.Pagos.FirstOrDefaultAsync(p=>p.PedidoId==pedidoId);
 }
}
